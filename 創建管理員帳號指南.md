# ğŸ” å‰µå»ºç®¡ç†å“¡å¸³è™ŸæŒ‡å—

## æ–¹æ³• 1: ä½¿ç”¨å‰µå»ºè…³æœ¬ï¼ˆæ¨è–¦ï¼‰âœ¨

æˆ‘å·²ç¶“ç‚ºä½ å‰µå»ºäº†ä¸€å€‹ç®¡ç†å“¡å¸³è™Ÿè…³æœ¬ï¼š`backend/scripts/create-admin.js`

### ğŸ“ é è¨­ç®¡ç†å“¡è³‡è¨Š

```
Email:    admin@jiangchong.com
å¯†ç¢¼:     Admin@123456
åç¨±:     åŒ å¯µç®¡ç†å“¡
```

**âš ï¸ é‡è¦ï¼šå‰µå»ºå¾Œè«‹ç«‹å³æ›´æ”¹å¯†ç¢¼ï¼**

---

### ğŸš€ åŸ·è¡Œæ–¹å¼

#### æ–¹å¼ A: ä½¿ç”¨ Railway CLIï¼ˆæ¨è–¦ï¼‰

```bash
# 1. ç¢ºä¿å·²å®‰è£ Railway CLI
npm install -g @railway/cli

# 2. ç™»å…¥ Railway
railway login

# 3. é€£æ¥å°ˆæ¡ˆ
cd backend
railway link

# 4. åŸ·è¡Œè…³æœ¬
railway run node scripts/create-admin.js
```

#### æ–¹å¼ B: æœ¬åœ°åŸ·è¡Œï¼ˆéœ€è¦ DATABASE_URLï¼‰

```bash
# 1. å¾ Railway è¤‡è£½ DATABASE_URL
# é€²å…¥ Railway Dashboard â†’ Postgres â†’ Connect â†’ è¤‡è£½ DATABASE_URL

# 2. è¨­ç½®ç’°å¢ƒè®Šæ•¸
export DATABASE_URL="postgresql://postgres:xxxxx@containers-us-west-xxx.railway.app:5432/railway"

# 3. åŸ·è¡Œè…³æœ¬
cd backend
node scripts/create-admin.js
```

---

### âœ… æˆåŠŸè¼¸å‡ºç¯„ä¾‹

```
ğŸš€ é–‹å§‹å‰µå»ºç®¡ç†å“¡å¸³è™Ÿ...

ğŸ“Š æ¸¬è©¦è³‡æ–™åº«é€£æ¥...
âœ… è³‡æ–™åº«é€£æ¥æˆåŠŸ

ğŸ“§ æª¢æŸ¥ Email æ˜¯å¦å·²å­˜åœ¨: admin@jiangchong.com
ğŸ” åŠ å¯†å¯†ç¢¼...
âœ… å¯†ç¢¼åŠ å¯†å®Œæˆ

ğŸ‘¤ å‰µå»ºç®¡ç†å“¡å¸³è™Ÿ...
âœ… ç®¡ç†å“¡å¸³è™Ÿå‰µå»ºæˆåŠŸï¼

ğŸ” é©—è­‰å‰µå»ºçµæœ...
âœ… é©—è­‰æˆåŠŸï¼

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ‰ ç®¡ç†å“¡å¸³è™Ÿè³‡è¨Š
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ID:       abc-123-def-456
Email:    admin@jiangchong.com
åç¨±:     åŒ å¯µç®¡ç†å“¡
ç­‰ç´š:     admin
ç‹€æ…‹:     active
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ ç™»å…¥è³‡è¨Šï¼š
   Email:    admin@jiangchong.com
   å¯†ç¢¼:     Admin@123456

âš ï¸  è«‹å¦¥å–„ä¿ç®¡ç™»å…¥è³‡è¨Šï¼

ğŸŒ ç™»å…¥å¾Œå°ï¼š
   ç·šä¸Š: https://aa89976566.github.io/p.et-taiwan/admin-login.html
```

---

## æ–¹æ³• 2: ä½¿ç”¨ Railway Query ä»‹é¢

å¦‚æœç„¡æ³•åŸ·è¡Œè…³æœ¬ï¼Œå¯ä»¥ç›´æ¥åœ¨ Railway åŸ·è¡Œ SQLï¼š

### æ­¥é©Ÿï¼š

1. **é€²å…¥ Railway Dashboard**
2. **é¸æ“‡ Postgres æœå‹™**
3. **é»æ“Š Query æ¨™ç±¤**
4. **åŸ·è¡Œä»¥ä¸‹ SQL**ï¼š

```sql
-- æ’å…¥ç®¡ç†å“¡å¸³è™Ÿ
-- æ³¨æ„ï¼šå¯†ç¢¼å·²ç¶“ä½¿ç”¨ bcrypt åŠ å¯†ï¼ˆAdmin@123456ï¼‰
INSERT INTO users (
    id, 
    email, 
    password, 
    name, 
    "memberLevel", 
    status, 
    "registeredAt", 
    "createdAt", 
    "updatedAt",
    "totalOrders",
    "totalSpent",
    "quizCompleted"
) VALUES (
    'admin-' || gen_random_uuid()::text,
    'admin@jiangchong.com',
    '$2a$10$YourBcryptHashedPasswordHere',  -- éœ€è¦å…ˆç”Ÿæˆ bcrypt hash
    'åŒ å¯µç®¡ç†å“¡',
    'admin',
    'active',
    EXTRACT(EPOCH FROM NOW()) * 1000,
    EXTRACT(EPOCH FROM NOW()) * 1000,
    EXTRACT(EPOCH FROM NOW()) * 1000,
    0,
    0,
    0
);
```

**âš ï¸ å•é¡Œ**ï¼šé€™å€‹æ–¹æ³•éœ€è¦æ‰‹å‹•ç”Ÿæˆ bcrypt å¯†ç¢¼ hashï¼Œæ¯”è¼ƒè¤‡é›œã€‚

**å»ºè­°ä½¿ç”¨æ–¹æ³• 1 çš„è…³æœ¬ï¼**

---

## æ–¹æ³• 3: é€šé API è¨»å†Šå¾Œå‡ç´š

### æ­¥é©Ÿï¼š

1. **å…ˆç”¨ API è¨»å†Šä¸€å€‹æ™®é€šå¸³è™Ÿ**ï¼š

```bash
curl -X POST https://pet-taiwan-production.up.railway.app/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@jiangchong.com",
    "password": "Admin@123456",
    "name": "åŒ å¯µç®¡ç†å“¡"
  }'
```

2. **åœ¨ Railway Query ä»‹é¢å‡ç´šç‚ºç®¡ç†å“¡**ï¼š

```sql
UPDATE users 
SET "memberLevel" = 'admin', 
    "updatedAt" = EXTRACT(EPOCH FROM NOW()) * 1000
WHERE email = 'admin@jiangchong.com';
```

3. **é©—è­‰å‡ç´šæˆåŠŸ**ï¼š

```sql
SELECT id, email, name, "memberLevel", status 
FROM users 
WHERE email = 'admin@jiangchong.com';
```

---

## ğŸ”’ ä¿®æ”¹ç®¡ç†å“¡è³‡è¨Š

å¦‚æœä½ æƒ³ä½¿ç”¨ä¸åŒçš„ Email æˆ–å¯†ç¢¼ï¼š

### ä¿®æ”¹ `backend/scripts/create-admin.js` æ–‡ä»¶ï¼š

```javascript
// ç®¡ç†å“¡è³‡æ–™
const ADMIN_DATA = {
    email: 'your-email@example.com',  // â† ä¿®æ”¹é€™è£¡
    password: 'YourStrongPassword',    // â† ä¿®æ”¹é€™è£¡
    name: 'ä½ çš„åç¨±'                  // â† ä¿®æ”¹é€™è£¡
};
```

ç„¶å¾Œé‡æ–°åŸ·è¡Œè…³æœ¬ã€‚

---

## ğŸ“ ç™»å…¥å¾Œå°

å‰µå»ºç®¡ç†å“¡å¸³è™Ÿå¾Œï¼š

### 1. è¨ªå•å¾Œå°ç™»å…¥é é¢

```
https://aa89976566.github.io/p.et-taiwan/admin-login.html
```

### 2. è¼¸å…¥ç®¡ç†å“¡å¸³è™Ÿ

```
Email:    admin@jiangchong.com
å¯†ç¢¼:     Admin@123456
```

### 3. ç™»å…¥æˆåŠŸå¾Œ

ä½ å¯ä»¥ï¼š
- âœ… ç®¡ç†å•†å“
- âœ… ç®¡ç†è¨‚å–®
- âœ… ç®¡ç†ç”¨æˆ¶
- âœ… ç®¡ç†å„ªæƒ åˆ¸
- âœ… æŸ¥çœ‹çµ±è¨ˆæ•¸æ“š
- âœ… è¨­ç½®ç¶²ç«™å…§å®¹

---

## âš ï¸ å®‰å…¨å»ºè­°

### å‰µå»ºç®¡ç†å“¡å¾Œï¼Œç«‹å³åšé€™äº›äº‹ï¼š

1. **æ›´æ”¹å¯†ç¢¼**
   - ç™»å…¥å¾Œå° â†’ å€‹äººè¨­ç½® â†’ æ›´æ”¹å¯†ç¢¼
   - ä½¿ç”¨å¼·å¯†ç¢¼ï¼ˆè‡³å°‘ 12 ä½ï¼ŒåŒ…å«å¤§å°å¯«ã€æ•¸å­—ã€ç¬¦è™Ÿï¼‰

2. **å¦¥å–„ä¿ç®¡ç™»å…¥è³‡è¨Š**
   - ä¸è¦åˆ†äº«çµ¦ä»–äºº
   - ä¸è¦åœ¨å…¬é–‹çš„åœ°æ–¹å±•ç¤º
   - å®šæœŸæ›´æ›å¯†ç¢¼

3. **å•Ÿç”¨é›™é‡é©—è­‰**ï¼ˆå¦‚æœæœ‰å¯¦ä½œï¼‰
   - ä½¿ç”¨ Google Authenticator
   - æˆ– Email é©—è­‰ç¢¼

---

## ğŸ› æ•…éšœæ’é™¤

### å•é¡Œ 1: "DATABASE_URL ç’°å¢ƒè®Šæ•¸æœªè¨­å®š"

**è§£æ±ºæ–¹æ³•**ï¼š
```bash
# å¾ Railway è¤‡è£½ DATABASE_URL
export DATABASE_URL="postgresql://..."

# ç„¶å¾Œé‡æ–°åŸ·è¡Œè…³æœ¬
node scripts/create-admin.js
```

### å•é¡Œ 2: "ç”¨æˆ¶å·²å­˜åœ¨"

**è§£æ±ºæ–¹æ³•**ï¼š
- å¦‚æœè©²å¸³è™Ÿå·²ç¶“æ˜¯ç®¡ç†å“¡ï¼Œç›´æ¥ä½¿ç”¨å³å¯
- å¦‚æœæƒ³é‡ç½®å¯†ç¢¼ï¼Œåœ¨ Railway Query ä¸­åˆªé™¤è©²ç”¨æˆ¶ï¼š

```sql
DELETE FROM users WHERE email = 'admin@jiangchong.com';
```

ç„¶å¾Œé‡æ–°åŸ·è¡Œè…³æœ¬ã€‚

### å•é¡Œ 3: "ç„¡æ³•é€£æ¥è³‡æ–™åº«"

**è§£æ±ºæ–¹æ³•**ï¼š
- ç¢ºèª DATABASE_URL æ­£ç¢º
- ç¢ºèª PostgreSQL æœå‹™åœ¨ç·š
- æª¢æŸ¥ç¶²è·¯é€£æ¥

---

## ğŸ“ ä¸‹ä¸€æ­¥

å‰µå»ºç®¡ç†å“¡å¾Œï¼š

1. âœ… ç™»å…¥å¾Œå°
2. âœ… æ·»åŠ ç¬¬ä¸€å€‹å•†å“
3. âœ… è¨­ç½®ç¶²ç«™å…§å®¹
4. âœ… é–‹å§‹ä½¿ç”¨ï¼

---

**æº–å‚™å¥½å‰µå»ºç®¡ç†å“¡äº†å—ï¼Ÿé¸æ“‡ä¸€å€‹æ–¹æ³•åŸ·è¡Œå§ï¼** ğŸš€
