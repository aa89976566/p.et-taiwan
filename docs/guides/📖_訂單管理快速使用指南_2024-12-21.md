# 📖 訂單管理系統快速使用指南

> **版本**: v4.0  
> **最後更新**: 2024-12-21  
> **適用對象**: 訂單管理員、客服人員、倉儲人員

---

## 🚀 快速開始

### 1. 開啟訂單管理系統

```
網址: /admin-orders.html
必須先登入: /admin-login.html
```

### 2. 系統功能總覽

```
📊 訂單列表
   ├─ 15 筆測試訂單（示範用）
   ├─ 即時搜尋與篩選
   └─ 批次操作功能

🔍 搜尋與篩選
   ├─ 訂單編號搜尋
   ├─ 客戶資訊搜尋
   ├─ 付款狀態篩選
   ├─ 配送狀態篩選
   └─ 時間範圍篩選

📦 訂單詳情管理
   ├─ 客戶與收件資訊
   ├─ 商品明細
   ├─ 金額計算
   ├─ 付款管理
   └─ 物流管理
```

---

## 📋 常見操作流程

### 場景 A: 處理新訂單（宅配到府）

#### Step 1: 篩選待處理訂單
```
1. 開啟訂單管理頁面
2. 配送狀態: 選擇「待出貨」
3. 付款狀態: 選擇「已付款」
4. 點擊「套用篩選」
```

#### Step 2: 查看訂單詳情
```
1. 點擊訂單編號（例: #2024120013）
2. 自動開啟訂單詳情彈窗
3. 確認客戶資訊與商品明細
```

#### Step 3: 確認付款（如需要）
```
如果訂單顯示「待付款」:
1. 向下滾動到「支付管理」區塊
2. 付款狀態: 改為「已付款」
3. 付款方式: 選擇實際付款方式
4. 交易編號: 輸入交易編號（可選）
5. 點擊「確認付款」按鈕
✅ 系統顯示: 付款已確認
```

#### Step 4: 設定物流資訊
```
1. 向下滾動到「物流資訊」區塊
2. 物流方式: 選擇「新竹貨運」或其他
3. 配送地址: （已自動填入收件地址）
4. 物流追蹤號碼: 輸入「HE1234567890」
5. 點擊「更新物流資訊」
✅ 系統顯示: 物流資訊已更新
```

#### Step 5: 更新配送狀態
```
1. 配送狀態: 改為「配送中」
2. 訂單列表自動更新為 🟣 配送中
3. 點擊「標記已出貨」或關閉彈窗
✅ 訂單處理完成
```

---

### 場景 B: 處理超商取貨訂單

#### Step 1: 開啟訂單詳情
```
1. 點擊訂單編號（例: #2024120014）
2. 查看收件資訊確認為超商取貨需求
```

#### Step 2: 選擇超商物流
```
1. 向下滾動到「物流資訊」區塊
2. 物流方式: 選擇「7-11 超商取貨」
✅ 系統自動切換為「超商取貨資訊」欄位
```

#### Step 3: 選擇取貨門市
```
1. 點擊「選擇門市」按鈕
2. 開啟門市選擇彈窗
3. 選擇超商類型:
   ○ 7-11  ○ 全家  ○ 萊爾富  ○ OK
4. 搜尋門市: 輸入「信義」或門市代碼
5. 點擊想要的門市卡片的「選擇」按鈕
   例如: 「信義威秀門市」
✅ 門市資訊自動填入:
   • 門市名稱: 信義威秀門市
   • 門市地址: 台北市信義區松壽路18號
   • 門市代碼: 123456
```

#### Step 4: 輸入取貨碼
```
1. 取貨編號: 輸入「789456」（6位數字）
2. 預計到店日期: 選擇日期
3. 點擊「更新物流資訊」
✅ 系統顯示: 
   物流資訊已更新
   物流方式: 7-11 超商取貨
   取貨門市: 信義威秀門市
   取貨編號: 789456
```

#### Step 5: 更新配送狀態
```
當商品已送達門市:
1. 配送狀態: 改為「已到店」
2. (可選) 點擊「發送取貨簡訊」通知客戶

當客戶已取貨:
1. 配送狀態: 改為「已送達/已取貨」
✅ 訂單完成
```

---

### 場景 C: 查詢物流進度

#### 宅配查詢
```
1. 開啟訂單詳情
2. 向下滾動到「物流資訊」區塊
3. 點擊「查詢物流進度」連結
✅ 顯示追蹤資訊:
   • 訂單編號
   • 物流方式
   • 追蹤號碼
   
實際應用會跳轉到物流公司追蹤頁面
```

#### 超商取貨查詢
```
1. 開啟訂單詳情
2. 點擊「查詢物流進度」連結
✅ 顯示取貨資訊:
   • 取貨門市
   • 取貨編號
   • 保管期限
   
實際應用會連接超商物流 API
```

---

### 場景 D: 處理退款與取消訂單

#### 處理退款
```
1. 開啟訂單詳情
2. 向下滾動到「支付管理」區塊
3. 點擊「處理退款」按鈕
4. 確認退款提示
✅ 系統自動執行:
   • 付款狀態 → 已退款
   • 配送狀態 → 已取消
   • 關閉訂單詳情
   • 更新訂單列表
```

#### 取消訂單
```
1. 開啟訂單詳情
2. 點擊底部「取消訂單」按鈕（紅色）
3. 確認取消提示
✅ 系統自動執行:
   • 配送狀態 → 已取消
   • 付款狀態 → 已退款
   • 訂單列表更新
```

---

### 場景 E: 批次操作

#### 批次列印出貨單
```
1. 篩選待出貨訂單
   配送狀態: 「待出貨」
   付款狀態: 「已付款」
   
2. 勾選訂單
   勾選表格左側的複選框
   例如: 選擇 5 筆訂單
   
3. 點擊「批次列印」按鈕
✅ 系統顯示:
   已選擇 5 筆訂單
   準備列印出貨單、物流標籤、發票
```

#### 匯出訂單資料
```
1. (可選) 先篩選要匯出的訂單
   例如: 本週已完成訂單
   
2. 點擊「匯出訂單」按鈕
✅ 系統匯出 Excel/CSV 檔案，包含:
   • 訂單編號
   • 訂單時間
   • 客戶資訊
   • 商品明細
   • 付款狀態
   • 配送狀態
   • 物流資訊
   • 追蹤號碼
```

---

## 🔍 搜尋與篩選技巧

### 快速搜尋
```
搜尋框支援:
• 訂單編號: #2024120001
• 客戶姓名: 王小明
• 客戶電話: 0912345678 或 0912-345-678

小技巧:
✓ 可輸入部分關鍵字
✓ 不區分大小寫
✓ 自動過濾空格
```

### 篩選組合範例

**範例 1: 查看今日待出貨訂單**
```
付款狀態: 已付款
配送狀態: 待出貨
時間範圍: 今天
→ 點擊「套用篩選」
```

**範例 2: 查看超商取貨待取件訂單**
```
配送狀態: 已到店
時間範圍: 本週
→ 點擊「套用篩選」
```

**範例 3: 查看待付款訂單**
```
付款狀態: 待付款
時間範圍: 本月
→ 點擊「套用篩選」
```

**清除篩選**
```
點擊「重置」按鈕
→ 顯示所有訂單
```

---

## 🎨 訂單狀態顏色說明

### 付款狀態標籤
```
🟠 待付款    - 橙色標籤，等待客戶付款
🟢 已付款    - 綠色標籤，付款已完成
⚪ 已退款    - 灰色標籤，已處理退款
```

### 配送狀態標籤
```
🔵 待出貨        - 藍色標籤，準備出貨中
🟣 配送中        - 紫色標籤，物流運送中
🟦 已到店        - 青色標籤，超商已到貨（僅超商）
🟢 已送達/已取貨 - 深綠標籤，配送完成
🔴 已取消        - 紅色標籤，訂單已取消
```

### 物流方式圖示
```
🚚 黑貓    - 黑貓宅急便
🚚 新竹    - 新竹貨運
🚚 嘉里    - 嘉里大榮
🚚 宅配通  - 宅配通
🚚 順豐    - 順豐速運

🏪 7-11    - 7-11 超商取貨
🏪 全家    - 全家超商取貨
🏪 萊爾富  - 萊爾富超商取貨
🏪 OK      - OK 超商取貨
```

---

## 📊 訂單詳情頁面導覽

### 資訊區塊順序
```
1️⃣ 訂單基本資訊
   • 訂單編號
   • 訂單時間
   • 付款狀態標籤
   • 配送狀態標籤

2️⃣ 客戶資訊
   • 姓名
   • 電話
   • Email

3️⃣ 收件資訊
   宅配: 收件人、地址、電話
   超商: 取貨人、門市、取貨碼

4️⃣ 商品明細表格
   • 產品名稱
   • 單價
   • 數量
   • 小計

5️⃣ 金額計算
   • 商品總計
   • 運費
   • 折扣
   • 應付金額（紅色粗體）

6️⃣ 支付管理
   • 付款狀態下拉選單
   • 付款方式下拉選單
   • 交易編號輸入框
   • 確認付款/處理退款按鈕

7️⃣ 物流資訊
   • 物流方式下拉選單
   • 配送狀態下拉選單
   
   宅配欄位:
   • 配送地址
   • 追蹤號碼
   
   超商欄位:
   • 選擇門市
   • 門市資訊（唯讀）
   • 取貨編號
   
   • 更新物流資訊按鈕
   • 查詢物流進度連結

8️⃣ 訂單備註
   • 特殊需求或注意事項
```

### 底部操作按鈕
```
🖨️ 列印訂單
🚚 標記已出貨
✅ 標記已送達
❌ 取消訂單
```

---

## 💡 實用技巧與最佳實踐

### 效率提升技巧

**技巧 1: 使用訂單編號直接查看**
```
✓ 訂單編號可直接點擊開啟詳情
✗ 不需要先點「查看」按鈕
```

**技巧 2: 善用鍵盤快捷鍵**
```
• Tab: 切換輸入框
• Enter: 確認篩選搜尋
• Esc: 關閉彈窗
```

**技巧 3: 批次處理相同狀態訂單**
```
1. 篩選相同狀態訂單
2. 全選或多選
3. 執行批次操作
→ 提升處理效率
```

### 避免常見錯誤

**錯誤 1: 未確認付款就出貨**
```
❌ 配送狀態: 待出貨 → 配送中
✅ 正確流程:
   1. 先確認付款狀態為「已付款」
   2. 再更新配送狀態為「配送中」
```

**錯誤 2: 超商取貨未選擇門市**
```
❌ 直接輸入取貨碼
✅ 正確流程:
   1. 先選擇取貨門市
   2. 確認門市資訊
   3. 再輸入取貨碼
```

**錯誤 3: 宅配未輸入追蹤號碼**
```
⚠️ 沒有追蹤號碼客戶無法查詢進度
✅ 最佳實踐:
   1. 取得物流公司追蹤號碼
   2. 立即輸入系統
   3. 更新配送狀態
```

---

## 🆘 常見問題 FAQ

### Q1: 如何修改已送達的訂單？
```
A: 已送達訂單建議不要修改配送狀態。
   如需修改其他資訊:
   1. 開啟訂單詳情
   2. 修改需要變更的欄位
   3. 點擊對應的「更新」按鈕
```

### Q2: 客戶要求變更配送地址怎麼辦？
```
A: 
1. 開啟訂單詳情
2. 找到「物流資訊」區塊
3. 修改配送地址
4. 點擊「更新物流資訊」
5. 通知物流公司（實際情況需聯繫物流）
```

### Q3: 如何查詢超商取貨是否已到店？
```
A: 
方法 1: 系統顯示
   配送狀態顯示「已到店」即代表已送達門市

方法 2: 查詢進度
   點擊「查詢物流進度」連結
   查看超商取貨狀態
```

### Q4: 批次列印功能在哪裡？
```
A: 
1. 勾選要列印的訂單（左側複選框）
2. 點擊頁面右上方「批次列印」按鈕
3. 系統會提示已選擇訂單數量
```

### Q5: 匯出的訂單檔案格式是什麼？
```
A: 
當前系統匯出為 Excel/CSV 格式
包含完整訂單資訊:
• 訂單編號、時間
• 客戶與收件資訊
• 商品明細
• 金額明細
• 付款與配送狀態
• 物流資訊與追蹤號碼
```

---

## 🔒 權限與安全

### 登入要求
```
必須先登入管理後台:
網址: /admin-login.html
登入後才能存取訂單管理系統
```

### 資料安全
```
• 客戶敏感資料僅限授權人員查看
• 付款資訊需謹慎處理
• 交易編號不可外洩
• 定期備份訂單資料
```

### 建議權限分級
```
超級管理員: 所有權限
訂單管理員: 查看、編輯、確認付款
客服人員: 查看訂單、更新物流狀態
倉儲人員: 查看待出貨、更新出貨狀態
```

---

## 📞 需要協助？

### 技術文件
```
📚 完整功能說明
   ✅_訂單管理系統完成報告_v4.0_2024-12-21.md

📦 架構設計文件
   📦_訂單管理系統架構_CyberBiz參考_2024-12-21.md

📖 專案說明
   README.md
```

### 系統狀態
```
✅ 功能完成度: 100%
✅ 測試資料: 15 筆訂單 + 8 個門市
✅ 參考架構: Cyberbiz 電商平台
✅ 可立即使用
```

---

**文件結束** 📖

此快速指南涵蓋訂單管理系統的所有常見操作流程，幫助管理員快速上手並有效率地處理訂單！
