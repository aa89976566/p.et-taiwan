<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="åŒ å¯µæ¸¬é©—çµæœ - ç‚ºä½ çš„æ¯›å­©é‡èº«æ‰“é€ çš„å¥åº·æ–¹æ¡ˆ">
    <title>æ¸¬é©—çµæœ - åŒ å¯µ</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts - å¯æ„›åœ“é«” -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700;900&family=Zen+Maru+Gothic:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF6B6B',
                        secondary: '#4ECDC4',
                        accent: '#FFD93D',
                        orange: '#FF8C42',
                        dark: '#2C3E50',
                        light: '#F7F9FC'
                    },
                    fontFamily: {
                        'sans': ['Zen Maru Gothic', 'Noto Sans TC', 'sans-serif']
                    }
                }
            }
        }
    </script>
</head>
<body class="font-sans bg-light">
    
    <!-- Navigation -->
    <nav class="fixed top-0 w-full bg-white shadow-md z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <a href="index.html" class="flex items-center space-x-2">
                    
                    <span class="text-2xl font-bold text-dark">åŒ å¯µ</span>
                </a>
                <a href="index.html" class="text-gray-600 hover:text-primary transition">
                    <i class="fas fa-home text-xl"></i>
                </a>
            </div>
        </div>
    </nav>
    
    <!-- Main Content -->
    <main class="pt-24 pb-16">
        <div class="container mx-auto px-4 max-w-6xl">
            
            <!-- Result Header -->
            <div class="text-center mb-12" id="result-header">
                <!-- Will be dynamically populated -->
            </div>
            
            <!-- Pet Info Card -->
            <div class="bg-white rounded-3xl shadow-xl p-8 mb-8" id="pet-info">
                <!-- Will be dynamically populated -->
            </div>
            
            <!-- Analysis Result -->
            <div class="bg-white rounded-3xl shadow-xl p-8 mb-8" id="analysis-result">
                <!-- Will be dynamically populated -->
            </div>
            
            <!-- Recommendations -->
            <div class="mb-8" id="recommendations">
                <!-- Will be dynamically populated -->
            </div>
            
            <!-- Discount Coupon -->
            <div class="bg-gradient-to-r from-accent to-yellow-400 rounded-3xl shadow-xl p-8 mb-8 text-center">
                <div class="max-w-2xl mx-auto">
                    <i class="fas fa-gift text-5xl text-dark mb-4"></i>
                    <h3 class="text-2xl font-bold text-dark mb-2">ğŸ‰ æ­å–œç²å¾—å°ˆå±¬å„ªæƒ </h3>
                    <p class="text-dark mb-6">æ„Ÿè¬å®Œæˆæ¸¬é©—ï¼ä½¿ç”¨ä»¥ä¸‹å„ªæƒ ç¢¼äº«å—é¦–è³¼æŠ˜æ‰£</p>
                    
                    <div class="bg-white rounded-2xl p-6 mb-6 inline-block">
                        <p class="text-sm text-gray-600 mb-2">å„ªæƒ ç¢¼</p>
                        <div class="flex items-center justify-center gap-3">
                            <code class="text-3xl font-bold text-primary" id="coupon-code">JIANGCHONG15</code>
                            <button onclick="copyCoupon()" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-red-600 transition">
                                <i class="fas fa-copy mr-1"></i>è¤‡è£½
                            </button>
                        </div>
                        <p class="text-sm text-gray-500 mt-2">é¦–è³¼äº« <strong>85æŠ˜</strong> å„ªæƒ </p>
                    </div>
                    
                    <p class="text-sm text-dark opacity-75">å„ªæƒ æœŸé™ï¼šå³æ—¥èµ·è‡³ 2025/01/31</p>
                    
                    <!-- Subscription CTA -->
                    <div class="mt-8">
                        <a href="subscription-guide.html" class="inline-block bg-white text-dark px-10 py-4 rounded-full text-lg font-bold hover:bg-gray-100 transition transform hover:scale-105 shadow-lg">
                            <i class="fas fa-box-heart mr-2"></i>
                            æŸ¥çœ‹å°ˆå±¬è¨‚é–±æ–¹æ¡ˆ
                        </a>
                        <p class="text-xs text-dark/70 mt-3">æ ¹æ“šæ¸¬é©—çµæœç‚ºä½ å®¢è£½åŒ–</p>
                    </div>
                </div>
            </div>
            
            <!-- Next Steps -->
            <div class="bg-white rounded-3xl shadow-xl p-8 mb-8">
                <h3 class="text-2xl font-bold mb-6 text-center">æ¥ä¸‹ä¾†ä½ å¯ä»¥...</h3>
                <div class="grid md:grid-cols-3 gap-6">
                    <a href="index.html#products" class="bg-light rounded-2xl p-6 text-center hover:shadow-lg transition group">
                        <i class="fas fa-shopping-bag text-4xl text-primary mb-4 group-hover:scale-110 transition"></i>
                        <h4 class="font-bold mb-2">ç€è¦½ç”¢å“</h4>
                        <p class="text-sm text-gray-600">æŸ¥çœ‹å®Œæ•´ç”¢å“ç³»åˆ—</p>
                    </a>
                    <a href="index.html#subscription" class="bg-light rounded-2xl p-6 text-center hover:shadow-lg transition group">
                        <i class="fas fa-box text-4xl text-secondary mb-4 group-hover:scale-110 transition"></i>
                        <h4 class="font-bold mb-2">è¨‚é–±æ–¹æ¡ˆ</h4>
                        <p class="text-sm text-gray-600">é¸æ“‡é©åˆçš„è¨‚é–±æœå‹™</p>
                    </a>
                    <a href="index.html#jar-exchange" class="bg-light rounded-2xl p-6 text-center hover:shadow-lg transition group">
                        <i class="fas fa-recycle text-4xl text-accent mb-4 group-hover:scale-110 transition"></i>
                        <h4 class="font-bold mb-2">æ›ç½è¨ˆç•«</h4>
                        <p class="text-sm text-gray-600">äº†è§£ç’°ä¿å¾ªç’°æœå‹™</p>
                    </a>
                </div>
            </div>
            
            <!-- Share Section -->
            <div class="text-center">
                <h3 class="text-xl font-bold mb-4">åˆ†äº«çµ¦å…¶ä»–æ¯›çˆ¸åª½</h3>
                <div class="flex justify-center gap-4">
                    <button onclick="shareOnFacebook()" class="bg-blue-600 text-white px-6 py-3 rounded-full hover:bg-blue-700 transition">
                        <i class="fab fa-facebook-f mr-2"></i>Facebook
                    </button>
                    <button onclick="shareOnLine()" class="bg-green-500 text-white px-6 py-3 rounded-full hover:bg-green-600 transition">
                        <i class="fab fa-line mr-2"></i>LINE
                    </button>
                    <button onclick="copyLink()" class="bg-gray-600 text-white px-6 py-3 rounded-full hover:bg-gray-700 transition">
                        <i class="fas fa-link mr-2"></i>è¤‡è£½é€£çµ
                    </button>
                </div>
            </div>
            
        </div>
    </main>
    
    <!-- Footer -->
    <footer class="bg-dark text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <p class="text-gray-400">Â© 2024 åŒ å¯µ JiangChong. All rights reserved.</p>
        </div>
    </footer>
    
    <!-- Script -->
    <script>
        // Get quiz type from URL
        const urlParams = new URLSearchParams(window.location.search);
        const quizType = urlParams.get('type') || 'nutrition';
        
        // Load quiz answers
        const answers = JSON.parse(localStorage.getItem(quizType === 'nutrition' ? 'nutritionQuizAnswers' : 'toyQuizAnswers')) || {};
        
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            if (quizType === 'nutrition') {
                showNutritionResults();
            } else {
                showToyResults();
            }
        });
        
        // Show Nutrition Results
        function showNutritionResults() {
            const petName = answers[1] || 'ä½ çš„æ¯›å­©';
            const petType = answers[2] === 'dog' ? 'ç‹—ç‹—' : 'è²“å’ª';
            const ageGroup = answers[3];
            const weight = answers[4];
            const healthIssues = answers[6] || [];
            const bodyCondition = answers[7];
            const activityLevel = answers[8];
            
            // Header
            document.getElementById('result-header').innerHTML = `
                <div class="w-24 h-24 bg-secondary/20 rounded-full flex items-center justify-center mx-auto mb-6">
                    <i class="fas fa-check-circle text-secondary text-6xl"></i>
                </div>
                <h1 class="text-3xl md:text-4xl font-bold mb-4">åˆ†æå®Œæˆï¼</h1>
                <p class="text-xl text-gray-600">æ ¹æ“š <strong>${petName}</strong> çš„ç‹€æ³ï¼Œæˆ‘å€‘ç‚ºæ‚¨æº–å‚™äº†ä»¥ä¸‹å»ºè­°</p>
            `;
            
            // Pet Info
            document.getElementById('pet-info').innerHTML = `
                <h3 class="text-2xl font-bold mb-6 flex items-center">
                    <i class="fas fa-id-card text-secondary mr-3"></i>
                    åŸºæœ¬è³‡æ–™
                </h3>
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <div class="bg-light rounded-xl p-4">
                        <p class="text-sm text-gray-600 mb-1">åå­—</p>
                        <p class="font-bold text-lg">${petName}</p>
                    </div>
                    <div class="bg-light rounded-xl p-4">
                        <p class="text-sm text-gray-600 mb-1">é¡å‹</p>
                        <p class="font-bold text-lg">${petType}</p>
                    </div>
                    <div class="bg-light rounded-xl p-4">
                        <p class="text-sm text-gray-600 mb-1">å¹´é½¡éšæ®µ</p>
                        <p class="font-bold text-lg">${getAgeLabel(ageGroup)}</p>
                    </div>
                    <div class="bg-light rounded-xl p-4">
                        <p class="text-sm text-gray-600 mb-1">é«”é‡</p>
                        <p class="font-bold text-lg">${weight} kg</p>
                    </div>
                </div>
            `;
            
            // Analysis
            const analysisText = generateNutritionAnalysis(ageGroup, healthIssues, bodyCondition, activityLevel);
            document.getElementById('analysis-result').innerHTML = `
                <h3 class="text-2xl font-bold mb-6 flex items-center">
                    <i class="fas fa-chart-line text-secondary mr-3"></i>
                    ç‡Ÿé¤Šåˆ†æ
                </h3>
                <div class="prose max-w-none">
                    ${analysisText}
                </div>
            `;
            
            // Recommendations
            const recommendations = generateNutritionRecommendations(ageGroup, healthIssues, bodyCondition, activityLevel);
            document.getElementById('recommendations').innerHTML = `
                <h3 class="text-2xl font-bold mb-6 text-center">ç‚º ${petName} æ¨è–¦çš„ç”¢å“</h3>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    ${recommendations}
                </div>
            `;
        }
        
        // Show Toy Results
        function showToyResults() {
            const petName = answers[1] || 'ä½ çš„æ¯›å­©';
            const age = answers[2];
            const cognitiveIssues = answers[4] || [];
            const learningAbility = answers[5];
            const preferences = answers[11] || [];
            
            // Header
            document.getElementById('result-header').innerHTML = `
                <div class="w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6" style="background: linear-gradient(135deg, #FF8C42, #FFD93D);">
                    <i class="fas fa-brain text-white text-6xl"></i>
                </div>
                <h1 class="text-3xl md:text-4xl font-bold mb-4">èªçŸ¥è©•ä¼°å®Œæˆï¼</h1>
                <p class="text-xl text-gray-600">æ ¹æ“š <strong>${petName}</strong> çš„èªçŸ¥ç‹€æ³ï¼Œæˆ‘å€‘ç‚ºæ‚¨æ¨è–¦åˆé©çš„ç›Šæ™ºç©å…·</p>
            `;
            
            // Pet Info
            document.getElementById('pet-info').innerHTML = `
                <h3 class="text-2xl font-bold mb-6 flex items-center">
                    <i class="fas fa-id-card mr-3" style="color: #FF8C42;"></i>
                    åŸºæœ¬è³‡æ–™
                </h3>
                <div class="grid md:grid-cols-3 gap-4">
                    <div class="bg-light rounded-xl p-4">
                        <p class="text-sm text-gray-600 mb-1">åå­—</p>
                        <p class="font-bold text-lg">${petName}</p>
                    </div>
                    <div class="bg-light rounded-xl p-4">
                        <p class="text-sm text-gray-600 mb-1">å¹´é½¡</p>
                        <p class="font-bold text-lg">${age} æ­²</p>
                    </div>
                    <div class="bg-light rounded-xl p-4">
                        <p class="text-sm text-gray-600 mb-1">èªçŸ¥ç‹€æ…‹</p>
                        <p class="font-bold text-lg">${getCognitiveStatus(cognitiveIssues)}</p>
                    </div>
                </div>
            `;
            
            // Analysis
            const analysisText = generateToyAnalysis(cognitiveIssues, learningAbility);
            document.getElementById('analysis-result').innerHTML = `
                <h3 class="text-2xl font-bold mb-6 flex items-center">
                    <i class="fas fa-chart-line mr-3" style="color: #FF8C42;"></i>
                    èªçŸ¥åˆ†æ
                </h3>
                <div class="prose max-w-none">
                    ${analysisText}
                </div>
            `;
            
            // Recommendations
            const recommendations = generateToyRecommendations(cognitiveIssues, learningAbility, preferences);
            document.getElementById('recommendations').innerHTML = `
                <h3 class="text-2xl font-bold mb-6 text-center">ç‚º ${petName} æ¨è–¦çš„ç›Šæ™ºç©å…·</h3>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    ${recommendations}
                </div>
            `;
        }
        
        // Helper Functions
        function getAgeLabel(ageGroup) {
            const labels = {
                'puppy': 'å¹¼å¹´æœŸ',
                'adult': 'æˆå¹´æœŸ',
                'senior': 'ç†Ÿé½¡æœŸ'
            };
            return labels[ageGroup] || 'æœªçŸ¥';
        }
        
        function getCognitiveStatus(issues) {
            if (!issues || issues.includes('none')) {
                return 'è‰¯å¥½';
            } else if (issues.length >= 3) {
                return 'éœ€è¦é—œæ³¨';
            } else {
                return 'æ­£å¸¸';
            }
        }
        
        function generateNutritionAnalysis(ageGroup, healthIssues, bodyCondition, activityLevel) {
            let analysis = '<div class="space-y-4">';
            
            // Age-based analysis
            if (ageGroup === 'puppy') {
                analysis += `
                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
                        <h4 class="font-bold mb-2"><i class="fas fa-info-circle mr-2"></i>å¹¼å¹´æœŸç‡Ÿé¤Šé‡é»</h4>
                        <p class="text-gray-700">è™•æ–¼å¿«é€Ÿæˆé•·éšæ®µï¼Œéœ€è¦é«˜è›‹ç™½ã€é«˜éˆ£è³ªçš„é£²é£Ÿä¾†æ”¯æŒéª¨éª¼å’Œè‚Œè‚‰ç™¼è‚²ã€‚å»ºè­°é¸æ“‡å¹¼çŠ¬å°ˆç”¨é…æ–¹ã€‚</p>
                    </div>
                `;
            } else if (ageGroup === 'senior') {
                analysis += `
                    <div class="bg-orange-50 border-l-4 border-orange-500 p-4 rounded">
                        <h4 class="font-bold mb-2"><i class="fas fa-info-circle mr-2"></i>ç†Ÿé½¡æœŸç‡Ÿé¤Šé‡é»</h4>
                        <p class="text-gray-700">éœ€è¦æ˜“æ¶ˆåŒ–ã€ä½ç†±é‡ä½†ç‡Ÿé¤Šå¯†åº¦é«˜çš„é£Ÿç‰©ã€‚å»ºè­°è£œå……é—œç¯€ä¿å¥æˆåˆ†ï¼ˆå¦‚è‘¡è„ç³–èƒºï¼‰å’ŒæŠ—æ°§åŒ–åŠ‘ã€‚</p>
                    </div>
                `;
            }
            
            // Health issues
            if (healthIssues && healthIssues.length > 0 && !healthIssues.includes('none')) {
                analysis += `
                    <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded">
                        <h4 class="font-bold mb-2"><i class="fas fa-exclamation-triangle mr-2"></i>å¥åº·æ³¨æ„äº‹é …</h4>
                        <p class="text-gray-700">æª¢æ¸¬åˆ°ä»¥ä¸‹å¥åº·ç‹€æ³ï¼Œå»ºè­°é¸æ“‡å°æ‡‰çš„ç‰¹æ®Šé…æ–¹ï¼š</p>
                        <ul class="list-disc list-inside mt-2 text-gray-700">
                            ${healthIssues.map(issue => `<li>${getHealthIssueLabel(issue)}</li>`).join('')}
                        </ul>
                    </div>
                `;
            }
            
            // Body condition
            if (bodyCondition === 'overweight') {
                analysis += `
                    <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded">
                        <h4 class="font-bold mb-2"><i class="fas fa-weight mr-2"></i>é«”é‡ç®¡ç†å»ºè­°</h4>
                        <p class="text-gray-700">å»ºè­°é¸æ“‡ä½è„‚ã€é«˜çº–ç¶­çš„æ¸›é‡é…æ–¹ï¼Œä¸¦å¢åŠ é‹å‹•é‡ã€‚é¿å…é«˜ç†±é‡é›¶é£Ÿã€‚</p>
                    </div>
                `;
            }
            
            analysis += '</div>';
            return analysis;
        }
        
        function generateToyAnalysis(cognitiveIssues, learningAbility) {
            let analysis = '<div class="space-y-4">';
            
            if (!cognitiveIssues || cognitiveIssues.includes('none')) {
                analysis += `
                    <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded">
                        <h4 class="font-bold mb-2"><i class="fas fa-check-circle mr-2"></i>èªçŸ¥ç‹€æ…‹è‰¯å¥½</h4>
                        <p class="text-gray-700">æ‚¨çš„æ¯›å­©ç›®å‰èªçŸ¥åŠŸèƒ½æ­£å¸¸ï¼æŒçºŒä½¿ç”¨ç›Šæ™ºç©å…·å¯ä»¥é é˜²æœªä¾†çš„èªçŸ¥é€€åŒ–ã€‚</p>
                    </div>
                `;
            } else {
                analysis += `
                    <div class="bg-orange-50 border-l-4 border-orange-500 p-4 rounded">
                        <h4 class="font-bold mb-2"><i class="fas fa-exclamation-triangle mr-2"></i>éœ€è¦èªçŸ¥åˆºæ¿€</h4>
                        <p class="text-gray-700">æª¢æ¸¬åˆ°ä¸€äº›èªçŸ¥ç›¸é—œçš„ç—‡ç‹€ã€‚å»ºè­°æ¯å¤©é€²è¡Œ 15-20 åˆ†é˜çš„ç›Šæ™ºéŠæˆ²ï¼Œæœ‰åŠ©æ–¼æ”¹å–„èªçŸ¥åŠŸèƒ½ã€‚</p>
                        <p class="text-sm text-gray-600 mt-2">è¨»ï¼šå¦‚ç—‡ç‹€åš´é‡ï¼Œè«‹è«®è©¢ç¸é†«å¸«</p>
                    </div>
                `;
            }
            
            if (learningAbility === 'declining') {
                analysis += `
                    <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded">
                        <h4 class="font-bold mb-2"><i class="fas fa-brain mr-2"></i>å­¸ç¿’èƒ½åŠ›ä¸‹é™</h4>
                        <p class="text-gray-700">å»ºè­°å¾ç°¡å–®çš„ç›Šæ™ºç©å…·é–‹å§‹ï¼Œé€æ­¥å¢åŠ é›£åº¦ã€‚è€å¿ƒå¼•å°å’Œçå‹µå¾ˆé‡è¦ã€‚</p>
                    </div>
                `;
            }
            
            analysis += '</div>';
            return analysis;
        }
        
        function generateNutritionRecommendations(ageGroup, healthIssues, bodyCondition, activityLevel) {
            let products = [];
            
            // Always recommend subscription
            products.push({
                name: 'ç‡Ÿé¤Šç½è¨‚é–±æ–¹æ¡ˆ',
                image: 'https://images.unsplash.com/photo-1589924691995-400dc9ecc119?w=400',
                price: 'NT$ 599',
                desc: 'ä¸»é¤+ç‡Ÿé¤Šç²‰ï¼Œå…©é€±é…é€ä¸€æ¬¡',
                badge: 'æ¨è–¦',
                link: 'index.html#subscription'
            });
            
            // Recommend snacks based on age
            if (ageGroup === 'puppy' || ageGroup === 'adult') {
                products.push({
                    name: 'é›è‚‰è„†ç‰‡',
                    image: 'https://images.unsplash.com/photo-1587300003388-59208cc962cb?w=400',
                    price: 'NT$ 200',
                    desc: 'é«˜è›‹ç™½è³ªï¼Œé©åˆè¨“ç·´çå‹µ',
                    link: 'index.html#products'
                });
            }
            
            if (ageGroup === 'senior') {
                products.push({
                    name: 'é®­é­šå°ä¸¸å­',
                    image: 'https://images.unsplash.com/photo-1560870350-c740e8d9a5b6?w=400',
                    price: 'NT$ 250',
                    desc: 'å¯Œå« Omega-3ï¼Œä¿è­·é—œç¯€',
                    badge: 'ç†Ÿé½¡å°ˆç”¨',
                    link: 'index.html#products'
                });
            }
            
            // Add more products to reach 3
            products.push({
                name: 'åœ°ç“œé¤…ä¹¾',
                image: 'https://images.unsplash.com/photo-1606890737304-57a1ca8a5b62?w=400',
                price: 'NT$ 180',
                desc: 'å¤©ç„¶è†³é£Ÿçº–ç¶­ï¼Œå¹«åŠ©æ¶ˆåŒ–',
                link: 'index.html#products'
            });
            
            return products.map(product => `
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition">
                    ${product.badge ? `
                        <div class="bg-secondary text-white px-4 py-2 text-center font-semibold">
                            ${product.badge}
                        </div>
                    ` : ''}
                    <img src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h4 class="text-xl font-bold mb-2">${product.name}</h4>
                        <p class="text-gray-600 text-sm mb-4">${product.desc}</p>
                        <div class="flex justify-between items-center">
                            <span class="text-2xl font-bold text-primary">${product.price}</span>
                            <a href="${product.link}" class="bg-secondary text-white px-6 py-2 rounded-full hover:bg-teal-600 transition">
                                æŸ¥çœ‹
                            </a>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        function generateToyRecommendations(cognitiveIssues, learningAbility, preferences) {
            let products = [];
            
            // Sniffing mat for all senior dogs
            products.push({
                name: 'å—…èè¨“ç·´å¢Š',
                image: 'https://images.unsplash.com/photo-1611003228941-98852ba62227?w=400',
                price: 'NT$ 399',
                desc: 'æ¿€ç™¼å—…è¦ºæœ¬èƒ½ï¼Œèˆ’ç·©ç„¦æ…®',
                difficulty: 'åˆç´š',
                link: 'index.html#products'
            });
            
            // Puzzle based on learning ability
            if (learningAbility === 'good' || learningAbility === 'normal') {
                products.push({
                    name: 'æ¨æ‹‰è§£è¬ç©å…·',
                    image: 'https://images.unsplash.com/photo-1585664811087-47f65abbad64?w=400',
                    price: 'NT$ 599',
                    desc: 'è¨“ç·´å•é¡Œè§£æ±ºèƒ½åŠ›',
                    difficulty: 'ä¸­ç´š',
                    badge: 'æ¨è–¦',
                    link: 'index.html#products'
                });
            }
            
            // Advanced toy for good learners
            if (learningAbility === 'good') {
                products.push({
                    name: 'è¨˜æ†¶æŒ‰éˆ•éŠæˆ²',
                    image: 'https://images.unsplash.com/photo-1601758228041-f3b2795255f1?w=400',
                    price: 'NT$ 899',
                    desc: 'å¼·åŒ–è¨˜æ†¶èˆ‡åæ‡‰åŠ›',
                    difficulty: 'é«˜ç´š',
                    link: 'index.html#products'
                });
            } else {
                products.push({
                    name: 'å—…èçƒçµ„åˆ',
                    image: 'https://images.unsplash.com/photo-1585664811087-47f65abbad64?w=400',
                    price: 'NT$ 450',
                    desc: 'å¤šç¨®é›£åº¦ï¼Œå¾ªåºæ¼¸é€²',
                    difficulty: 'åˆç´š',
                    link: 'index.html#products'
                });
            }
            
            return products.map(product => `
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition">
                    ${product.badge ? `
                        <div class="text-white px-4 py-2 text-center font-semibold" style="background: linear-gradient(135deg, #FF8C42, #FFD93D);">
                            ${product.badge}
                        </div>
                    ` : ''}
                    <div class="relative">
                        <img src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover">
                        <div class="absolute top-4 right-4 px-3 py-1 rounded-full text-xs font-semibold" style="background: ${getDifficultyColor(product.difficulty)}; color: white;">
                            ${product.difficulty}
                        </div>
                    </div>
                    <div class="p-6">
                        <h4 class="text-xl font-bold mb-2">${product.name}</h4>
                        <p class="text-gray-600 text-sm mb-4">${product.desc}</p>
                        <div class="flex justify-between items-center">
                            <span class="text-2xl font-bold" style="color: #FF8C42;">${product.price}</span>
                            <a href="${product.link}" class="text-white px-6 py-2 rounded-full hover:opacity-90 transition" style="background: linear-gradient(135deg, #FF8C42, #FFD93D);">
                                æŸ¥çœ‹
                            </a>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        function getDifficultyColor(difficulty) {
            const colors = {
                'åˆç´š': '#10B981',
                'ä¸­ç´š': '#F59E0B',
                'é«˜ç´š': '#EF4444'
            };
            return colors[difficulty] || '#6B7280';
        }
        
        function getHealthIssueLabel(issue) {
            const labels = {
                'allergy': 'é£Ÿç‰©éæ•',
                'digestive': 'æ¶ˆåŒ–å•é¡Œ',
                'skin': 'çš®è†šå•é¡Œ',
                'joint': 'é—œç¯€å•é¡Œ',
                'kidney': 'è…è‡Ÿå•é¡Œ',
                'heart': 'å¿ƒè‡Ÿå•é¡Œ',
                'diabetes': 'ç³–å°¿ç—…',
                'other': 'å…¶ä»–å¥åº·å•é¡Œ'
            };
            return labels[issue] || issue;
        }
        
        // Copy Coupon
        function copyCoupon() {
            const code = document.getElementById('coupon-code').textContent;
            navigator.clipboard.writeText(code).then(() => {
                alert('å„ªæƒ ç¢¼å·²è¤‡è£½ï¼');
            });
        }
        
        // Share Functions
        function shareOnFacebook() {
            const url = window.location.origin;
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`, '_blank', 'width=600,height=400');
        }
        
        function shareOnLine() {
            const url = window.location.origin;
            const text = 'æˆ‘åœ¨åŒ å¯µåšäº†æ¸¬é©—ï¼Œæ‰¾åˆ°æœ€é©åˆæ¯›å­©çš„ç”¢å“ï¼';
            window.open(`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`, '_blank', 'width=600,height=400');
        }
        
        function copyLink() {
            const url = window.location.origin;
            navigator.clipboard.writeText(url).then(() => {
                alert('é€£çµå·²è¤‡è£½ï¼');
            });
        }
    </script>
    
</body>
</html>
