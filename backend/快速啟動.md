# ğŸš€ å¿«é€Ÿå•Ÿå‹•æŒ‡å—

## æ–¹æ³• 1ï¼šä½¿ç”¨ npmï¼ˆæ¨è–¦ï¼‰

### æ­¥é©Ÿ 1ï¼šæ‰“é–‹çµ‚ç«¯æ©Ÿ

åœ¨ macOS ä¸Šï¼š
- æŒ‰ `Cmd + Space` æœå°‹ã€Œçµ‚ç«¯æ©Ÿã€æˆ–ã€ŒTerminalã€
- æˆ–ä½¿ç”¨ Finder > æ‡‰ç”¨ç¨‹å¼ > å·¥å…·ç¨‹å¼ > çµ‚ç«¯æ©Ÿ

### æ­¥é©Ÿ 2ï¼šé€²å…¥å¾Œç«¯ç›®éŒ„

```bash
cd ~/Downloads/code_sandbox_light_c2866122_1766354127/backend
```

æˆ–ç›´æ¥æ‹–æ”¾ `backend` è³‡æ–™å¤¾åˆ°çµ‚ç«¯æ©Ÿè¦–çª—ã€‚

### æ­¥é©Ÿ 3ï¼šå®‰è£ä¾è³´

```bash
npm install
```

å¦‚æœå‡ºç¾æ¬Šé™éŒ¯èª¤ï¼Œå˜—è©¦ï¼š
```bash
npm install --no-save
```

æˆ–ä½¿ç”¨æœ¬åœ°å®‰è£ï¼š
```bash
npm install --prefix .
```

### æ­¥é©Ÿ 4ï¼šå»ºç«‹ .env æ–‡ä»¶

å¦‚æœ `.env` æ–‡ä»¶ä¸å­˜åœ¨ï¼Œå»ºç«‹ä¸€å€‹ï¼š

```bash
cat > .env << 'EOF'
PORT=3000
NODE_ENV=development
JWT_SECRET=jiangchong-secret-key-2024
JWT_EXPIRE=7d
DB_PATH=./data/jiangchong.db
ECPAY_MERCHANT_ID=2000132
ECPAY_HASH_KEY=5294y06JbISpM5x9
ECPAY_HASH_IV=v77hoKGq4kWxNNIS
ECPAY_ENV=development
FRONTEND_URL=http://localhost:5500
EOF
```

### æ­¥é©Ÿ 5ï¼šåˆå§‹åŒ–è³‡æ–™åº«

```bash
npm run init-db
```

### æ­¥é©Ÿ 6ï¼šå•Ÿå‹•æœå‹™å™¨

```bash
npm start
```

æˆ–é–‹ç™¼æ¨¡å¼ï¼ˆè‡ªå‹•é‡å•Ÿï¼‰ï¼š
```bash
npm run dev
```

## æ–¹æ³• 2ï¼šå¦‚æœ npm install å¤±æ•—

### ä½¿ç”¨ yarnï¼ˆæ›¿ä»£æ–¹æ¡ˆï¼‰

```bash
# å®‰è£ yarnï¼ˆå¦‚æœæ²’æœ‰ï¼‰
npm install -g yarn

# ä½¿ç”¨ yarn å®‰è£
yarn install

# å•Ÿå‹•
node server.js
```

### æ‰‹å‹•æª¢æŸ¥ä¾è³´

ç¢ºèª `package.json` ä¸­çš„ä¾è³´éƒ½å·²å®‰è£ï¼š

```bash
# æª¢æŸ¥å·²å®‰è£çš„æ¨¡çµ„
ls node_modules

# å¦‚æœ node_modules ä¸å­˜åœ¨æˆ–ç‚ºç©ºï¼Œé‡æ–°å®‰è£
rm -rf node_modules
npm install
```

## æ–¹æ³• 3ï¼šç›´æ¥é‹è¡Œï¼ˆå¦‚æœä¾è³´å·²å®‰è£ï¼‰

```bash
# ç¢ºä¿åœ¨ backend ç›®éŒ„
cd backend

# å»ºç«‹è³‡æ–™ç›®éŒ„
mkdir -p data

# ç›´æ¥é‹è¡Œ
node server.js
```

## å¸¸è¦‹éŒ¯èª¤è§£æ±º

### éŒ¯èª¤ï¼šCannot find module

**è§£æ±ºï¼š**
```bash
npm install <æ¨¡çµ„åç¨±>
```

ä¾‹å¦‚ï¼š
```bash
npm install express
npm install sqlite3
npm install dotenv
```

### éŒ¯èª¤ï¼šPort 3000 already in use

**è§£æ±ºï¼š**
1. æ›´æ”¹ç«¯å£ï¼šç·¨è¼¯ `.env` æ–‡ä»¶ï¼Œå°‡ `PORT=3000` æ”¹ç‚º `PORT=3001`
2. æˆ–é—œé–‰å ç”¨ç«¯å£çš„ç¨‹åºï¼š
```bash
lsof -ti:3000 | xargs kill -9
```

### éŒ¯èª¤ï¼šDatabase locked

**è§£æ±ºï¼š**
```bash
# åˆªé™¤èˆŠçš„è³‡æ–™åº«æ–‡ä»¶
rm -f data/jiangchong.db

# é‡æ–°åˆå§‹åŒ–
npm run init-db
```

## é©—è­‰æœå‹™å™¨é‹è¡Œ

å•Ÿå‹•æˆåŠŸå¾Œï¼Œæ‚¨æ‡‰è©²çœ‹åˆ°ï¼š

```
âœ… å·²é€£æ¥åˆ° SQLite è³‡æ–™åº«
âœ… è³‡æ–™åº«è¡¨çµæ§‹åˆå§‹åŒ–å®Œæˆ

ğŸš€ åŒ å¯µå¾Œç«¯æœå‹™å™¨å·²å•Ÿå‹•
ğŸ“ æœå‹™åœ°å€: http://localhost:3000
ğŸŒ ç’°å¢ƒ: development
```

åœ¨ç€è¦½å™¨ä¸­è¨ªå•ï¼š`http://localhost:3000/health`

æ‡‰è©²çœ‹åˆ° JSON å›æ‡‰ã€‚

## éœ€è¦å¹«åŠ©ï¼Ÿ

å¦‚æœä»ç„¶ç„¡æ³•å•Ÿå‹•ï¼Œè«‹æä¾›ï¼š
1. å®Œæ•´çš„éŒ¯èª¤è¨Šæ¯
2. åŸ·è¡Œ `node --version` çš„çµæœ
3. åŸ·è¡Œ `npm --version` çš„çµæœ

æŸ¥çœ‹ `æ•…éšœæ’é™¤.md` ç²å–æ›´å¤šå¹«åŠ©ã€‚

