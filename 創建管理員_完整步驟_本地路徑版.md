# ğŸ” å‰µå»ºç®¡ç†å“¡å¸³è™Ÿ - å®Œæ•´æ­¥é©ŸæŒ‡å—

## ğŸ“ **ä½ çš„æœ¬åœ°å°ˆæ¡ˆä½ç½®**
```
/Users/ming/Desktop/keyboard clicking/p.et/ ç¶²ç«™
```

---

## ğŸ¯ **ä¸‰ç¨®æ–¹æ³•ï¼ˆé¸ä¸€å€‹å³å¯ï¼‰**

---

## **æ–¹æ³• 1ï¼šä½¿ç”¨ Railway SQLï¼ˆæœ€ç°¡å–®ï¼Œæ¨è–¦ï¼‰** â­â­â­â­â­

### **æ­¥é©Ÿ 1ï¼šç”ŸæˆåŠ å¯†å¯†ç¢¼**

æ‰“é–‹ Mac çµ‚ç«¯æ©Ÿï¼ˆTerminalï¼‰ï¼ŒåŸ·è¡Œï¼š

```bash
# é€²å…¥ä½ çš„å°ˆæ¡ˆå¾Œç«¯ç›®éŒ„
cd "/Users/ming/Desktop/keyboard clicking/p.et/ ç¶²ç«™/backend"

# ç”ŸæˆåŠ å¯†å¯†ç¢¼
node -e "const bcrypt = require('bcryptjs'); bcrypt.hash('Admin@123456', 10, (err, hash) => console.log('åŠ å¯†å¯†ç¢¼:', hash));"
```

**ä½ æœƒçœ‹åˆ°é¡ä¼¼é€™æ¨£çš„è¼¸å‡ºï¼š**
```
åŠ å¯†å¯†ç¢¼: $2a$10$abcdefghijklmnopqrstuvwxyz1234567890ABCDEFGHIJKLMNOP
```

**ğŸ“‹ è¤‡è£½é€™å€‹åŠ å¯†å¯†ç¢¼ï¼**

---

### **æ­¥é©Ÿ 2ï¼šåœ¨ Railway åŸ·è¡Œ SQL**

1. **æ‰“é–‹ Railway**ï¼šhttps://railway.app
2. **ç™»å…¥ä½ çš„å¸³è™Ÿ**
3. **é¸æ“‡å°ˆæ¡ˆ**ï¼š`p.et-taiwan`ï¼ˆæˆ–ä½ çš„å°ˆæ¡ˆåç¨±ï¼‰
4. **é»æ“Š Postgres æœå‹™**ï¼ˆè—è‰²è³‡æ–™åº«åœ–ç¤ºï¼‰
5. **é»æ“Š "Query" æ¨™ç±¤**
6. **è²¼ä¸Šä»¥ä¸‹ SQL**ï¼ˆè¨˜å¾—æ›¿æ›å¯†ç¢¼ï¼‰ï¼š

```sql
-- æª¢æŸ¥æ˜¯å¦å·²æœ‰ç®¡ç†å“¡ï¼ˆå¯é¸ï¼‰
SELECT email, "memberLevel" FROM users WHERE email = 'admin@jiangchong.com';

-- å‰µå»ºç®¡ç†å“¡å¸³è™Ÿï¼ˆâš ï¸ è¨˜å¾—æ›¿æ›å¯†ç¢¼ï¼ï¼‰
INSERT INTO users (
    id, 
    email, 
    password, 
    name, 
    "memberLevel", 
    status, 
    "registeredAt", 
    "createdAt", 
    "updatedAt",
    "totalOrders",
    "totalSpent",
    "quizCompleted"
) VALUES (
    'admin-' || FLOOR(RANDOM() * 1000000)::TEXT,
    'admin@jiangchong.com',
    '$2a$10$ä½ å‰›æ‰è¤‡è£½çš„åŠ å¯†å¯†ç¢¼',  -- âš ï¸ è²¼ä¸Šä½ çš„åŠ å¯†å¯†ç¢¼
    'åŒ å¯µç®¡ç†å“¡',
    'admin',
    'active',
    EXTRACT(EPOCH FROM NOW()) * 1000,
    EXTRACT(EPOCH FROM NOW()) * 1000,
    EXTRACT(EPOCH FROM NOW()) * 1000,
    0,
    0,
    0
);

-- é©—è­‰æ˜¯å¦å‰µå»ºæˆåŠŸ
SELECT id, email, name, "memberLevel", status 
FROM users 
WHERE email = 'admin@jiangchong.com';
```

7. **é»æ“Š "Run Query" æŒ‰éˆ•**

---

### **æ­¥é©Ÿ 3ï¼šç¢ºèªæˆåŠŸ**

å¦‚æœæˆåŠŸï¼Œä½ æœƒçœ‹åˆ°é¡ä¼¼é€™æ¨£çš„çµæœï¼š

```
id              email                  name        memberLevel  status
admin-123456    admin@jiangchong.com   åŒ å¯µç®¡ç†å“¡   admin        active
```

**âœ… å®Œæˆï¼**

---

## **æ–¹æ³• 2ï¼šä½¿ç”¨ npxï¼ˆä¸éœ€è¦ sudoï¼‰** â­â­â­

é€™å€‹æ–¹æ³•ä¸éœ€è¦è™•ç†æ¬Šé™å•é¡Œï¼

```bash
# é€²å…¥å¾Œç«¯ç›®éŒ„
cd "/Users/ming/Desktop/keyboard clicking/p.et/ ç¶²ç«™/backend"

# ä½¿ç”¨ npx åŸ·è¡Œ Railway CLIï¼ˆä¸éœ€è¦å…¨å±€å®‰è£ï¼‰
npx @railway/cli login

# é€£æ¥å°ˆæ¡ˆï¼ˆæœƒåˆ—å‡ºä½ çš„å°ˆæ¡ˆï¼Œé¸æ“‡ p.et-taiwanï¼‰
npx @railway/cli link

# åŸ·è¡Œå‰µå»ºç®¡ç†å“¡è…³æœ¬
npx @railway/cli run node scripts/create-admin.js
```

**èªªæ˜ï¼š**
- `npx` æœƒè‡ªå‹•ä¸‹è¼‰ä¸¦åŸ·è¡Œ Railway CLIï¼Œä¸éœ€è¦å…¨å±€å®‰è£
- ä¸éœ€è¦ sudo æ¬Šé™
- ç¬¬ä¸€æ¬¡æœƒè¦æ±‚ç™»å…¥ Railway å¸³è™Ÿ

---

## **æ–¹æ³• 3ï¼šä½¿ç”¨ sudo å®‰è£ï¼ˆæœ€å¿«ï¼‰** â­â­

å¦‚æœä½ ä¸ä»‹æ„ç”¨ sudoï¼š

```bash
# å®‰è£ Railway CLI
sudo npm install -g @railway/cli

# è¼¸å…¥ä½ çš„ Mac å¯†ç¢¼ï¼ˆæ‰“å­—æ™‚ä¸æœƒé¡¯ç¤ºï¼Œæ­£å¸¸çš„ï¼‰

# ç™»å…¥ Railway
railway login

# é€²å…¥å¾Œç«¯ç›®éŒ„
cd "/Users/ming/Desktop/keyboard clicking/p.et/ ç¶²ç«™/backend"

# é€£æ¥å°ˆæ¡ˆ
railway link

# åŸ·è¡Œå‰µå»ºç®¡ç†å“¡è…³æœ¬
railway run node scripts/create-admin.js
```

---

## ğŸ“ **é è¨­ç®¡ç†å“¡ç™»å…¥è³‡è¨Š**

```
Email:    admin@jiangchong.com
å¯†ç¢¼:     Admin@123456
```

**âš ï¸ é‡è¦ï¼šç™»å…¥å¾Œè«‹ç«‹å³ä¿®æ”¹å¯†ç¢¼ï¼**

---

## ğŸŒ **ç™»å…¥å¾Œå°**

å‰µå»ºæˆåŠŸå¾Œï¼Œè¨ªå•ï¼š

**ç·šä¸Šå¾Œå°ï¼š**
```
https://aa89976566.github.io/p.et-taiwan/admin-login.html
```

**æœ¬åœ°æ¸¬è©¦ï¼š**
```
http://localhost:8000/admin-login.html
```

---

## ğŸ”„ **å¦‚æœå·²æœ‰å¸³è™Ÿï¼Œæƒ³å‡ç´šç‚ºç®¡ç†å“¡**

å¦‚æœä½ å·²ç¶“è¨»å†Šäº†ä¸€å€‹æ™®é€šå¸³è™Ÿï¼Œå¯ä»¥ç›´æ¥å‡ç´šï¼š

### **åœ¨ Railway Query åŸ·è¡Œï¼š**

```sql
-- æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ¶
SELECT id, email, name, "memberLevel" FROM users;

-- å‡ç´šæŒ‡å®šç”¨æˆ¶ç‚ºç®¡ç†å“¡
UPDATE users 
SET "memberLevel" = 'admin', 
    "updatedAt" = EXTRACT(EPOCH FROM NOW()) * 1000 
WHERE email = 'ä½ çš„Email@example.com';

-- é©—è­‰
SELECT id, email, name, "memberLevel" FROM users 
WHERE email = 'ä½ çš„Email@example.com';
```

---

## ğŸ†˜ **å¦‚æœ bcrypt ç”Ÿæˆå¤±æ•—**

### **æ–¹æ¡ˆ Aï¼šå‰µå»ºç”Ÿæˆè…³æœ¬**

```bash
# é€²å…¥å¾Œç«¯ç›®éŒ„
cd "/Users/ming/Desktop/keyboard clicking/p.et/ ç¶²ç«™/backend"

# å‰µå»ºç”Ÿæˆè…³æœ¬
cat > generate-password.js << 'EOF'
const bcrypt = require('bcryptjs');
const password = 'Admin@123456';  // ä½ æƒ³è¦çš„å¯†ç¢¼

bcrypt.hash(password, 10, (err, hash) => {
    if (err) {
        console.error('âŒ éŒ¯èª¤:', err);
        process.exit(1);
    }
    console.log('\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
    console.log('âœ… å¯†ç¢¼ç”ŸæˆæˆåŠŸï¼');
    console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
    console.log('åŸå§‹å¯†ç¢¼:', password);
    console.log('åŠ å¯†å¯†ç¢¼:', hash);
    console.log('\nğŸ“‹ è¤‡è£½ä¸Šé¢çš„åŠ å¯†å¯†ç¢¼ï¼Œè²¼åˆ° Railway SQL çš„ password æ¬„ä½ï¼');
    console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n');
});
EOF

# åŸ·è¡Œè…³æœ¬
node generate-password.js
```

### **æ–¹æ¡ˆ Bï¼šä½¿ç”¨ç·šä¸Šå·¥å…·**

1. è¨ªå•ï¼šhttps://bcrypt-generator.com/
2. è¼¸å…¥å¯†ç¢¼ï¼š`Admin@123456`
3. Rounds é¸æ“‡ï¼š`10`
4. é»æ“Š **Generate**
5. è¤‡è£½ç”Ÿæˆçš„ Hash

---

## âœ… **å®Œæˆå¾Œçš„æª¢æŸ¥æ¸…å–®**

- [ ] ç®¡ç†å“¡å¸³è™Ÿå·²å‰µå»º
- [ ] å¯ä»¥ç™»å…¥å¾Œå°
- [ ] å·²ä¿®æ”¹é è¨­å¯†ç¢¼
- [ ] é–‹å§‹æ·»åŠ å•†å“

---

## ğŸ¯ **æˆ‘çš„æ¨è–¦**

**ä½¿ç”¨æ–¹æ³• 1ï¼ˆRailway SQLï¼‰** - å› ç‚ºï¼š

âœ… ä¸éœ€è¦è™•ç†æ¬Šé™å•é¡Œ  
âœ… ä¸éœ€è¦å®‰è£ä»»ä½•å·¥å…·  
âœ… ç›´æ¥åœ¨ç¶²é æ“ä½œ  
âœ… 2 åˆ†é˜å®Œæˆ  

---

## ğŸ“ **éœ€è¦å¹«åŠ©ï¼Ÿ**

å¦‚æœé‡åˆ°å•é¡Œï¼š

1. **bcrypt éŒ¯èª¤**ï¼šæª¢æŸ¥ backend ç›®éŒ„æ˜¯å¦æœ‰ node_modules
   ```bash
   cd "/Users/ming/Desktop/keyboard clicking/p.et/ ç¶²ç«™/backend"
   npm install
   ```

2. **Railway Query éŒ¯èª¤**ï¼šæª¢æŸ¥ SQL èªæ³•ï¼Œç¢ºä¿æ›¿æ›äº†å¯†ç¢¼

3. **ç™»å…¥å¤±æ•—**ï¼šæª¢æŸ¥ Email å’Œå¯†ç¢¼æ˜¯å¦æ­£ç¢º

---

## ğŸ‰ **ä¸‹ä¸€æ­¥**

å‰µå»ºç®¡ç†å“¡å¾Œï¼š

1. âœ… ç™»å…¥å¾Œå°
2. âœ… é€²å…¥ã€Œå•†å“ç®¡ç†ã€
3. âœ… æ·»åŠ ç¬¬ä¸€å€‹å•†å“
4. âœ… æ¸¬è©¦å‰å°æ˜¯å¦é¡¯ç¤º

---

**æº–å‚™å¥½äº†å—ï¼Ÿå¾æ­¥é©Ÿ 1 é–‹å§‹å§ï¼** ğŸš€
