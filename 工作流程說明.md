# 🚀 多視窗協作工作流程指南

## 📋 分工安排

### 視窗 1：前端開發（這個視窗）
負責修改所有前端相關文件：
- 所有 `*.html` 文件（除了 `admin-*.html`）
- `js/` 目錄下的前端 JS 文件（除了 `admin-*.js`）
- `css/` 目錄下的所有樣式文件
- `animations/` 動畫資源
- `data/` 數據文件（如需要）

### 視窗 2：後台開發（另一個視窗）
負責修改所有後台相關文件：
- 所有 `admin-*.html` 後台管理頁面
- `js/admin-*.js` 後台 JavaScript
- `backend/` 整個後端目錄

---

## 🛠️ 快速使用腳本

### 前端提交（視窗 1）

```bash
# 給腳本執行權限（只需執行一次）
chmod +x 前端提交.sh

# 提交前端更改
./前端提交.sh "更新產品列表頁面樣式"
```

### 後台提交（視窗 2）

```bash
# 給腳本執行權限（只需執行一次）
chmod +x 後台提交.sh

# 提交後台更改
./後台提交.sh "新增訂單管理功能"
```

### 檢查狀態（任一視窗）

```bash
# 給腳本執行權限（只需執行一次）
chmod +x 檢查狀態.sh

# 查看當前 Git 狀態
./檢查狀態.sh
```

---

## ⚠️ 注意事項

### 1. 共享文件（需要協調）
以下文件可能被兩個視窗同時使用，修改前請確認：
- `js/config.js` - 配置文件
- `js/api-client.js` - API 客戶端
- `data/711-stores.json` - 商店數據

**建議**：修改共享文件前，先在另一個視窗執行 `git pull` 同步。

### 2. 提交前必做
每次提交前，腳本會自動執行 `git pull`，確保代碼是最新的。

### 3. 如果遇到衝突
如果 `git pull` 時出現衝突：
1. 查看衝突文件：`git status`
2. 手動解決衝突（編輯文件）
3. 解決後執行：`git add .` 和 `git commit`
4. 重新執行提交腳本

### 4. 提交訊息規範
- 前端：`前端: 描述你的更改`
- 後台：`後台: 描述你的更改`

範例：
- ✅ `前端: 優化購物車 UI 體驗`
- ✅ `後台: 新增訂單匯出功能`
- ✅ `前端: 修復產品詳情頁面 bug`
- ✅ `後台: 更新用戶權限管理`

---

## 📝 手動操作（進階）

如果需要手動操作 Git：

```bash
# 1. 拉取最新代碼
git pull origin main

# 2. 查看狀態
git status

# 3. 查看具體更改
git diff

# 4. 添加文件
git add .

# 5. 提交
git commit -m "你的提交訊息"

# 6. 推送
git push origin main
```

---

## 🔄 工作流程圖

```
視窗 1 (前端)          視窗 2 (後台)
    │                     │
    ├─ 修改前端文件        ├─ 修改後台文件
    │                     │
    ├─ ./前端提交.sh      ├─ ./後台提交.sh
    │                     │
    ├─ git pull          ├─ git pull
    ├─ git add .         ├─ git add .
    ├─ git commit        ├─ git commit
    └─ git push          └─ git push
         │                     │
         └─────┬───────────────┘
               │
          GitHub 倉庫
```

---

## 💡 最佳實踐

1. **頻繁提交**：完成一個功能就提交，不要累積太多更改
2. **明確訊息**：提交訊息要清楚描述做了什麼
3. **先拉後推**：每次提交前先拉取最新代碼
4. **分工明確**：避免同時修改同一文件
5. **定期同步**：即使不提交，也定期執行 `git pull` 保持同步

---

## 🆘 常見問題

### Q: 腳本無法執行？
```bash
chmod +x 前端提交.sh
chmod +x 後台提交.sh
chmod +x 檢查狀態.sh
```

### Q: 推送時需要認證？
GitHub 需要認證，可以使用：
- Personal Access Token (推薦)
- SSH Key
- GitHub CLI

### Q: 如何查看提交歷史？
```bash
git log --oneline -10  # 查看最近 10 次提交
```

### Q: 如何撤銷未提交的更改？
```bash
git checkout -- <文件名>  # 撤銷單個文件
git reset --hard HEAD     # 撤銷所有未提交的更改（謹慎使用）
```

---

## 📞 需要幫助？

如果遇到問題，可以：
1. 執行 `./檢查狀態.sh` 查看當前狀態
2. 執行 `git status` 查看詳細信息
3. 執行 `git log` 查看提交歷史
