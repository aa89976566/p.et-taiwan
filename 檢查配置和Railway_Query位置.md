# æª¢æŸ¥é…ç½®å’Œ Railway Query æ¨™ç±¤ä½ç½®

## âœ… é…ç½®æª¢æŸ¥çµæœ

### 1. server.js è‡ªå‹•åˆå§‹åŒ–é…ç½®

æª¢æŸ¥ `backend/server.js`ï¼š
- âœ… ç¬¬ 8 è¡Œï¼šå·²å°å…¥ `initDatabase`
- âœ… ç¬¬ 77-78 è¡Œï¼šæœå‹™å•Ÿå‹•æ™‚æœƒè‡ªå‹•èª¿ç”¨ `initDatabase()`
- âœ… ç¬¬ 118-125 è¡Œï¼šæœ‰å®Œæ•´çš„éŒ¯èª¤è™•ç†

**çµè«–**ï¼šé…ç½®æ­£ç¢ºï¼Œæœå‹™å•Ÿå‹•æ™‚æœƒè‡ªå‹•åˆå§‹åŒ–è³‡æ–™åº«ã€‚

---

### 2. database.js é…ç½®

æª¢æŸ¥ `backend/config/database.js`ï¼š
- âœ… ç¬¬ 10 è¡Œï¼šè‡ªå‹•æ ¹æ“š `DATABASE_URL` åˆ¤æ–·è³‡æ–™åº«é¡å‹
- âœ… ç¬¬ 39-66 è¡Œï¼šPostgreSQL é€£æ¥é…ç½®æ­£ç¢º
- âœ… ç¬¬ 225-444 è¡Œï¼šPostgreSQL åˆå§‹åŒ–å‡½æ•¸å®Œæ•´

**çµè«–**ï¼šè³‡æ–™åº«é…ç½®æ­£ç¢ºã€‚

---

## ğŸ” å¦‚ä½•åœ¨ Railway æ‰¾åˆ° Query æ¨™ç±¤

### æ–¹æ³• 1: åœ¨ Railway Dashboard ä¸­æ‰¾åˆ°

1. **ç™»å…¥ Railway Dashboard**
   - å‰å¾€ https://railway.app

2. **é¸æ“‡ PostgreSQL æœå‹™**
   - åœ¨å·¦å´é¢æ¿ï¼Œæ‰¾åˆ° **"Postgres"** æœå‹™ï¼ˆæœ‰ PostgreSQL åœ–æ¨™ ğŸ—„ï¸ï¼‰
   - **é»æ“Š Postgres æœå‹™å¡ç‰‡**

3. **æŸ¥çœ‹æœå‹™è©³æƒ…é çš„æ¨™ç±¤**
   - é€²å…¥ Postgres æœå‹™è©³æƒ…é å¾Œï¼Œæ‚¨æœƒçœ‹åˆ°å¤šå€‹æ¨™ç±¤ï¼ˆTabsï¼‰
   - å¸¸è¦‹çš„æ¨™ç±¤åŒ…æ‹¬ï¼š
     - **Deployments** - éƒ¨ç½²æ­·å²
     - **Database** â­ **é€™å€‹å°±æ˜¯æˆ‘å€‘è¦çš„ï¼**
     - **Backups** - å‚™ä»½
     - **Variables** - ç’°å¢ƒè®Šæ•¸
     - **Metrics** - ç›£æ§
     - **Settings** - è¨­å®š

4. **é€²å…¥ Database æ¨™ç±¤**
   - é»æ“Š **"Database"** æ¨™ç±¤
   - åœ¨ Database æ¨™ç±¤å…§ï¼Œæ‚¨æœƒçœ‹åˆ°å­æ¨™ç±¤ï¼š
     - **Data** - æŸ¥çœ‹è³‡æ–™è¡¨ï¼ˆé€™è£¡å¯ä»¥çœ‹åˆ° "You have no tables"ï¼‰
     - **Extensions** - æ“´å±•
     - **Credentials** - èªè­‰è³‡è¨Š

5. **ä½¿ç”¨ Query åŠŸèƒ½**
   - åœ¨ **"Data"** å­æ¨™ç±¤ä¸­ï¼Œé€šå¸¸æœƒæœ‰ï¼š
     - "Query" æŒ‰éˆ•
     - æˆ– "Run Query" æŒ‰éˆ•
     - æˆ– SQL æŸ¥è©¢è¼¸å…¥æ¡†

### æ–¹æ³• 2: å¦‚æœæ‰¾ä¸åˆ° Query æ¨™ç±¤

å¦‚æœ Railway ä»‹é¢ä¸­æ²’æœ‰ç›´æ¥çš„ Query æ¨™ç±¤ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š

#### æ–¹æ³• A: ä½¿ç”¨ Railway CLI åŸ·è¡Œ SQL

```bash
# å®‰è£ Railway CLIï¼ˆå¦‚æœé‚„æ²’æœ‰ï¼‰
npm install -g @railway/cli

# ç™»å…¥
railway login

# é€£æ¥åˆ°å°ˆæ¡ˆ
railway link

# é€£æ¥åˆ° PostgreSQL ä¸¦åŸ·è¡ŒæŸ¥è©¢
railway run psql $DATABASE_URL -c "SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_type = 'BASE TABLE' ORDER BY table_name;"
```

#### æ–¹æ³• B: æª¢æŸ¥æœå‹™æ—¥èªŒ

å¦‚æœè³‡æ–™åº«å·²ç¶“è‡ªå‹•åˆå§‹åŒ–ï¼Œå¯ä»¥é€šéæª¢æŸ¥å¾Œç«¯æœå‹™çš„æ—¥èªŒä¾†ç¢ºèªï¼š

1. åœ¨ Railway Dashboard ä¸­
2. é¸æ“‡ **"p.et-taiwan"** æœå‹™ï¼ˆå¾Œç«¯æœå‹™ï¼‰
3. é»æ“Š **"Logs"** æ¨™ç±¤
4. æŸ¥çœ‹æ˜¯å¦æœ‰è³‡æ–™åº«åˆå§‹åŒ–çš„è¨Šæ¯

---

## ğŸ” æ‰¾åˆ° Query ä½ç½®çš„æ­¥é©Ÿåœ–ç¤º

```
Railway Dashboard
â”‚
â”œâ”€â”€ Projectsï¼ˆå°ˆæ¡ˆåˆ—è¡¨ï¼‰
â”‚   â”‚
â”‚   â””â”€â”€ [æ‚¨çš„å°ˆæ¡ˆ]
â”‚       â”‚
â”‚       â”œâ”€â”€ Servicesï¼ˆæœå‹™åˆ—è¡¨ï¼‰
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ [Postgres] ğŸ—„ï¸ â† é»æ“Šé€™è£¡
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ Deployments
â”‚       â”‚   â”‚   â”œâ”€â”€ Database â­ â† é»æ“Šé€™è£¡
â”‚       â”‚   â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Dataï¼ˆå­æ¨™ç±¤ï¼‰â† é€™è£¡å¯èƒ½æœ‰ Query åŠŸèƒ½
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Extensions
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ Credentials
â”‚       â”‚   â”‚   â”œâ”€â”€ Backups
â”‚       â”‚   â”‚   â”œâ”€â”€ Variables
â”‚       â”‚   â”‚   â”œâ”€â”€ Metrics
â”‚       â”‚   â”‚   â””â”€â”€ Settings
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ [p.et-taiwan] âš™ï¸ï¼ˆå¾Œç«¯æœå‹™ï¼‰
â”‚       â”‚       â”‚
â”‚       â”‚       â””â”€â”€ Logs â† å¯ä»¥æŸ¥çœ‹åˆå§‹åŒ–æ—¥èªŒ
```

---

## âœ… é©—è­‰è³‡æ–™è¡¨æ˜¯å¦å»ºç«‹çš„æ›¿ä»£æ–¹æ³•

### æ–¹æ³• 1: é€šéå¾Œç«¯ API æª¢æŸ¥ï¼ˆå¦‚æœæœ‰ APIï¼‰

å¦‚æœå¾Œç«¯å·²ç¶“é‹è¡Œï¼Œå¯ä»¥é€šé API æª¢æŸ¥ï¼š

```bash
# æª¢æŸ¥å¥åº·ç‹€æ…‹
curl https://your-railway-url.railway.app/health

# å¦‚æœæœ‰ API ç«¯é»å¯ä»¥åˆ—å‡ºè³‡æ–™è¡¨
curl https://your-railway-url.railway.app/api/admin/stats
```

### æ–¹æ³• 2: æª¢æŸ¥æœå‹™æ—¥èªŒ

åœ¨ Railway "p.et-taiwan" æœå‹™çš„ Logs ä¸­ï¼Œæ‡‰è©²æœƒçœ‹åˆ°ï¼š

```
âœ… å·²é€£æ¥åˆ° PostgreSQL è³‡æ–™åº«
ğŸ“Š é–‹å§‹å»ºç«‹ PostgreSQL è³‡æ–™è¡¨...
âœ… PostgreSQL é€£ç·šæ¸¬è©¦æˆåŠŸ
æº–å‚™å»ºç«‹ 11 å€‹è³‡æ–™è¡¨...
   âœ… users å»ºç«‹æˆåŠŸ
   âœ… products å»ºç«‹æˆåŠŸ
   ...
âœ… PostgreSQL è³‡æ–™åº«è¡¨çµæ§‹åˆå§‹åŒ–å®Œæˆï¼ˆå…± 11 å€‹è³‡æ–™è¡¨ï¼‰
âœ… è³‡æ–™åº«åˆå§‹åŒ–å®Œæˆ
ğŸš€ åŒ å¯µå¾Œç«¯æœå‹™å™¨å·²å•Ÿå‹•
```

---

## ğŸ¯ æ¨è–¦æª¢æŸ¥æ­¥é©Ÿ

1. **æª¢æŸ¥ Railway æœå‹™æ—¥èªŒ**ï¼ˆæœ€ç°¡å–®ï¼‰
   - å‰å¾€ "p.et-taiwan" æœå‹™ â†’ Logs
   - æŸ¥çœ‹æ˜¯å¦æœ‰è³‡æ–™åº«åˆå§‹åŒ–æˆåŠŸçš„è¨Šæ¯

2. **æª¢æŸ¥ PostgreSQL Data æ¨™ç±¤**
   - å‰å¾€ Postgres æœå‹™ â†’ Database â†’ Data
   - å¦‚æœçœ‹åˆ°è³‡æ–™è¡¨åˆ—è¡¨ï¼ˆè€Œä¸æ˜¯ "You have no tables"ï¼‰ï¼Œå°±è¡¨ç¤ºæˆåŠŸäº†

3. **å¦‚æœé‚„æ˜¯æ‰¾ä¸åˆ° Query**
   - å¯ä»¥é€šéæª¢æŸ¥å¾Œç«¯æœå‹™æ—¥èªŒä¾†ç¢ºèª
   - æˆ–è€…æˆ‘å¯ä»¥å¹«æ‚¨å‰µå»ºä¸€å€‹ç°¡å–®çš„ API ç«¯é»ä¾†æª¢æŸ¥è³‡æ–™è¡¨

---

**è«‹å…ˆæª¢æŸ¥ Railway "p.et-taiwan" æœå‹™çš„ Logsï¼Œå‘Šè¨´æˆ‘æ‚¨çœ‹åˆ°äº†ä»€éº¼ï¼** ğŸ”
