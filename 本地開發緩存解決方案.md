# 本地開發緩存解決方案

## 問題描述
localhost:8080 看不到更新，只有推送到 GitHub 才能看到，開發效率太低。

## 解決方案

### 方案 1：使用開發專用的 HTTP 服務器（推薦）

#### 使用 Python 的 http.server（禁用緩存）
```bash
# 在專案根目錄執行
python3 -m http.server 8080 --bind 127.0.0.1
```

#### 使用 Node.js 的 http-server（推薦）
```bash
# 安裝 http-server
npm install -g http-server

# 啟動服務器（禁用緩存）
http-server -p 8080 -c-1 --cors
```

參數說明：
- `-p 8080`: 指定端口
- `-c-1`: 禁用緩存（-1 表示永不緩存）
- `--cors`: 啟用 CORS（如果需要）

### 方案 2：使用 Live Server（VS Code 擴展）

1. 在 VS Code 安裝 **Live Server** 擴展
2. 右鍵點擊 `index.html` → 選擇 **Open with Live Server**
3. 自動刷新，無需手動刷新

### 方案 3：瀏覽器開發者工具設定

#### Chrome/Edge
1. 開啟開發者工具（F12 或 Cmd+Option+I）
2. 點擊右上角齒輪圖標（設定）
3. 在 **Network** 區塊勾選：
   - ✅ **Disable cache**（停用緩存）
   - ✅ 勾選此選項時，開發者工具必須保持開啟

#### Firefox
1. 開啟開發者工具（F12）
2. 進入 **Network** 標籤
3. 點擊設定圖標，勾選：
   - ✅ **Disable HTTP Cache**

### 方案 4：強制硬刷新快捷鍵

每次修改後使用硬刷新：
- **Mac**: `Cmd + Shift + R`
- **Windows/Linux**: `Ctrl + Shift + R` 或 `Ctrl + F5`

### 方案 5：無痕模式開發

使用無痕模式可以避免大部分緩存問題：
- **Chrome/Edge**: `Cmd + Shift + N` (Mac) 或 `Ctrl + Shift + N` (Windows)
- **Firefox**: `Cmd + Shift + P` (Mac) 或 `Ctrl + Shift + P` (Windows)

### 方案 6：添加版本號到資源（自動化）

如果使用構建工具，可以添加版本號或時間戳到 CSS/JS 文件：
```html
<link rel="stylesheet" href="css/style.css?v=<?php echo time(); ?>">
```

## 推薦工作流程

### 最快速的方式（推薦組合）：
1. **使用 http-server** 啟動服務：
   ```bash
   http-server -p 8080 -c-1 --cors
   ```

2. **開啟瀏覽器開發者工具**，勾選 **Disable cache**

3. **使用無痕模式** 開發（可選）

這樣就能即時看到更新，無需推送到 GitHub！

## 快速啟動腳本

創建一個 `dev-server.sh` 腳本：

```bash
#!/bin/bash
# 檢查是否安裝 http-server
if ! command -v http-server &> /dev/null
then
    echo "正在安裝 http-server..."
    npm install -g http-server
fi

echo "啟動開發服務器（端口 8080，禁用緩存）..."
http-server -p 8080 -c-1 --cors -o
```

然後執行：
```bash
chmod +x dev-server.sh
./dev-server.sh
```

## 常見問題

### Q: 為什麼還是看不到更新？
A: 檢查：
1. 是否使用了正確的服務器（http-server 而非 python http.server）
2. 是否開啟了瀏覽器開發者工具的「Disable cache」
3. 是否在正確的端口（8080）訪問

### Q: 如何確認緩存已被禁用？
A: 打開瀏覽器開發者工具 → Network 標籤 → 刷新頁面 → 查看請求的 Status Code：
- 應該是 `200` 而非 `304 (Not Modified)`

### Q: 修改 CSS 後看不到變化？
A: 確保：
1. CSS 文件路徑正確
2. 瀏覽器沒有緩存 CSS
3. 檢查 Network 標籤確認 CSS 文件確實重新載入
